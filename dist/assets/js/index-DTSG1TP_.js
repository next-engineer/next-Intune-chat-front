import{j as e}from"./index-COU3AFMd.js";import{r as s}from"./vendor-BlUkfZh9.js";import{M as t}from"./MainLayout-Dp8IKWtJ.js";import{I as a}from"./intune-button-DDBXFbw-.js";import{C as r,a as i,b as n,c}from"./card-CqLvOQDH.js";import{A as l,a as d,b as m}from"./x-DVyx8VBV.js";import{H as o,M as x}from"./users-D3-gwMD9.js";import{c as h}from"./createLucideIcon-CirrVwor.js";import{C as u,a as p}from"./clock-CxwyNTWe.js";import{S as j,c as g}from"./button-2GnTG7u1.js";import{c as f}from"./index-DoA_IopH.js";import{u as b}from"./router-BuIkA38J.js";import"./index-KkN9daQ0.js";
/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=h("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);function N({onMatchFound:t,onStartChat:n,hasUsedTodayMatch:c=!1}){const[x,h]=s.useState(!1),[p,j]=s.useState(null),g=()=>{p&&n(p.id)};return x?e.jsx(r,{className:"bg-white rounded-intune shadow-intune border-0",children:e.jsxs(i,{className:"p-8 text-center space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto animate-pulse",children:e.jsx(o,{className:"w-10 h-10 text-primary animate-bounce"})}),e.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-secondary rounded-full animate-ping"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"매칭 중..."}),e.jsx("p",{className:"text-sm text-subtext",children:"당신과 잘 맞는 사람을 찾고 있어요"})]}),e.jsx("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(s=>e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:.2*s+"s"}},s))})]})}):p?e.jsx(r,{className:"bg-white rounded-intune shadow-intune border-0",children:e.jsxs(i,{className:"p-6 text-center space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(l,{className:"w-24 h-24 mx-auto",children:[e.jsx(d,{src:p.profileImage||"/placeholder.svg",alt:p.nickname}),e.jsx(m,{className:"text-xl font-medium bg-soft text-primary",children:p.nickname.charAt(0)})]}),e.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-success rounded-full flex items-center justify-center",children:e.jsx(v,{className:"w-4 h-4 text-white"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:p.nickname}),e.jsx("div",{className:"inline-block px-3 py-1 bg-primary/10 text-primary rounded-full text-sm font-medium",children:p.mbti})]}),e.jsxs("div",{className:"bg-soft rounded-intune p-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-2",children:[e.jsx(o,{className:"w-4 h-4 text-danger"}),e.jsx("span",{className:"text-sm font-medium",children:"궁합도"})]}),e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[p.compatibility,"%"]})]}),e.jsxs("p",{className:"text-sm text-subtext leading-relaxed",children:["축하해요! 당신과 잘 맞는",e.jsx("br",{}),"새로운 인연을 찾았습니다."]})]}),e.jsx(a,{onClick:g,className:"w-full",size:"lg",children:"채팅 시작하기"})]})}):e.jsx(r,{className:"bg-white rounded-intune shadow-intune border-0",children:e.jsxs(i,{className:"p-8 text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:e.jsx(o,{className:"w-8 h-8 text-primary"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"새로운 매칭 시작"}),e.jsx("p",{className:"text-sm text-subtext",children:"MBTI 기반으로 당신과 잘 맞는 사람을 찾아드려요"})]}),c?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-soft rounded-intune p-4 flex items-center space-x-3",children:[e.jsx(u,{className:"w-5 h-5 text-subtext"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"오늘의 매칭 완료"}),e.jsx("p",{className:"text-xs text-subtext",children:"내일 다시 매칭을 시작할 수 있어요"})]})]}),e.jsx(a,{disabled:!0,className:"w-full",size:"lg",children:"내일 다시 시도"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-xs text-subtext bg-soft rounded-intune p-3",children:"하루에 한 번만 매칭할 수 있어요"}),e.jsx(a,{onClick:async()=>{c||(h(!0),setTimeout(()=>{const e={id:"match_"+Date.now(),nickname:"서연",mbti:"INFJ",profileImage:"/friendly-woman.png",compatibility:92};j(e),h(!1),t(e)},3e3))},className:"w-full",size:"lg",children:"매칭 시작"})]})]})})}const y=g("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function w({className:s,variant:t,asChild:a=!1,...r}){const i=a?j:"span";return e.jsx(i,{"data-slot":"badge",className:f(y({variant:t}),s),...r})}function k({matches:s,onSelectMatch:t}){const a=s=>{switch(s){case"active":return e.jsx(w,{className:"bg-success text-white",children:"진행중"});case"ended":return e.jsx(w,{variant:"secondary",children:"종료"});case"blocked":return e.jsx(w,{variant:"destructive",children:"차단됨"});default:return null}},o=e=>{const s=new Date(e),t=new Date,a=Math.abs(t.getTime()-s.getTime()),r=Math.ceil(a/864e5);return 1===r?"오늘":2===r?"어제":r<=7?r-1+"일 전":s.toLocaleDateString("ko-KR")};return 0===s.length?e.jsx(r,{className:"bg-soft rounded-intune border-0",children:e.jsxs(i,{className:"p-8 text-center space-y-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mx-auto",children:e.jsx(x,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-gray-900",children:"아직 매칭 기록이 없어요"}),e.jsx("p",{className:"text-sm text-subtext",children:"첫 매칭을 시작해보세요!"})]})]})}):e.jsxs(r,{className:"bg-white rounded-intune shadow-intune border-0",children:[e.jsx(n,{children:e.jsx(c,{className:"text-lg font-semibold",children:"매칭 기록"})}),e.jsx(i,{className:"space-y-3",children:s.map(s=>e.jsx("div",{className:"p-4 rounded-intune border transition-colors "+("active"===s.status?"border-gray-200 hover:border-primary":"border-gray-100 bg-gray-50"),children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(l,{className:"w-12 h-12",children:[e.jsx(d,{src:s.profileImage||"/placeholder.svg",alt:s.nickname}),e.jsx(m,{className:"bg-soft text-primary font-medium",children:s.nickname.charAt(0)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h4",{onClick:()=>"active"===s.status&&t(s.id),className:"font-medium text-gray-900 truncate "+("active"===s.status?"cursor-pointer hover:text-primary hover:underline transition-colors":""),children:s.nickname}),e.jsx("span",{className:"text-xs text-primary font-medium",children:s.mbti}),a(s.status)]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-subtext",children:[e.jsx(p,{className:"w-3 h-3"}),e.jsx("span",{children:o(s.matchedAt)})]}),s.lastMessage&&"active"===s.status&&e.jsx("p",{className:"text-sm text-subtext mt-1 truncate",children:s.lastMessage})]}),"active"===s.status&&e.jsx(x,{className:"w-4 h-4 text-primary"})]})},s.id))})]})}const M=[{id:"1",nickname:"지민",mbti:"ENFP",profileImage:"/diverse-group.png",matchedAt:"2024-01-15",status:"active",lastMessage:"안녕하세요! 반가워요 😊"},{id:"2",nickname:"현우",mbti:"ISTJ",profileImage:"/thoughtful-man.png",matchedAt:"2024-01-14",status:"ended"},{id:"3",nickname:"수진",mbti:"INFP",profileImage:"/diverse-woman-portrait.png",matchedAt:"2024-01-13",status:"active",lastMessage:"오늘 날씨가 정말 좋네요!"}];function I(){const a=b(),[r,i]=s.useState(!1),[n,c]=s.useState(M);return e.jsx(t,{children:e.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"매칭"}),e.jsx("p",{className:"text-subtext",children:"MBTI 기반으로 당신과 잘 맞는 사람을 찾아보세요"})]}),e.jsx(N,{onMatchFound:e=>{i(!0);const s={id:e.id,nickname:e.nickname,mbti:e.mbti,profileImage:e.profileImage,matchedAt:(new Date).toISOString().split("T")[0],status:"active",lastMessage:""};c(e=>[s,...e])},onStartChat:e=>{a(`/chat/room/${e}`)},hasUsedTodayMatch:r}),e.jsx(k,{matches:n,onSelectMatch:e=>{a(`/chat/room/${e}`)}})]})})}export{I as default};
