import{u as e,j as s,s as a}from"./index-BAGu4OjU.js";import{r as t}from"./vendor-BlUkfZh9.js";import{I as r}from"./intune-input-huUyjFOD.js";import{I as i}from"./intune-button-qLYfBzk1.js";import{u as l}from"./router-BuIkA38J.js";import{U as n}from"./user-CuRjii71.js";import{S as m}from"./shield-CAw7P6Rp.js";import"./index-DoA_IopH.js";import"./button-fv1gnQcv.js";const o=[{name:"관리자",email:"admin@intune.com",passwordHash:"e10adc3949ba59abbe56e057f20f883e",salt:"admin_salt_123",isAdmin:!0,description:"모든 기능 접근 가능"},{name:"일반 사용자",email:"user@intune.com",passwordHash:"e10adc3949ba59abbe56e057f20f883e",salt:"user_salt_456",isAdmin:!1,description:"기본 기능만 접근"},{name:"테스터1",email:"test1@example.com",passwordHash:"e10adc3949ba59abbe56e057f20f883e",salt:"test1_salt_789",isAdmin:!1,description:"일반 사용자"},{name:"테스터2",email:"test2@example.com",passwordHash:"e10adc3949ba59abbe56e057f20f883e",salt:"test2_salt_012",isAdmin:!1,description:"일반 사용자"}];function d(){const d=l(),c=e(e=>e.setUser),[p,u]=t.useState({email:"",password:""}),[x,b]=t.useState({}),[h,f]=t.useState(!1),[j,w]=t.useState(""),N=(e,s)=>{u(a=>({...a,[e]:s})),x[e]&&b(s=>({...s,[e]:""})),j&&w("")};return s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return p.email?/\S+@\S+\.\S+/.test(p.email)||(e.email="올바른 이메일 형식을 입력해주세요"):e.email="이메일을 입력해주세요",p.password?p.password.length<6&&(e.password="비밀번호는 6자 이상이어야 합니다"):e.password="비밀번호를 입력해주세요",b(e),0===Object.keys(e).length})()){f(!0),w("");try{await new Promise(e=>setTimeout(e,1e3));const e=o.find(e=>e.email===p.email);if(!e)throw new Error("계정을 찾을 수 없습니다.");const s=a(p.password);if(!(s===e.passwordHash))throw new Error("비밀번호가 일치하지 않습니다.");const t={id:"user_"+Date.now(),email:p.email,name:e.name,isAdmin:e.isAdmin},r="mock_access_token_"+Date.now(),i="mock_refresh_token_"+Date.now();await c(t,r,i),d("/")}catch(s){w("로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요.")}finally{f(!1)}}},className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"로그인"}),s.jsx("p",{className:"text-subtext",children:"Intune에 오신 것을 환영합니다"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"text-sm font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[s.jsx(n,{className:"w-4 h-4"}),"테스트 계정 선택"]}),s.jsx("div",{className:"grid grid-cols-1 gap-2",children:o.map((e,a)=>s.jsxs("button",{type:"button",onClick:()=>(e=>{u({email:e.email,password:""}),b({}),w("")})(e),className:"text-left p-2 bg-white rounded border border-blue-200 hover:bg-blue-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"text-sm font-medium text-blue-900",children:e.name}),e.isAdmin&&s.jsx(m,{className:"w-3 h-3 text-red-600"})]}),s.jsxs("div",{className:"text-xs text-blue-600",children:[e.email," | ",e.description]})]},a))})]}),j&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-700 text-sm",children:j})}),s.jsx(r,{label:"이메일",type:"email",value:p.email,onChange:e=>N("email",e.target.value),error:x.email,required:!0,placeholder:"example@email.com"}),s.jsx(r,{label:"비밀번호",type:"password",value:p.password,onChange:e=>N("password",e.target.value),error:x.password,required:!0,placeholder:"비밀번호를 입력하세요"}),s.jsx(i,{type:"submit",className:"w-full",size:"lg",disabled:h,children:h?"로그인 중...":"로그인"}),s.jsxs("div",{className:"space-y-4 text-center",children:[s.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:"비밀번호 찾기"}),s.jsxs("p",{className:"text-sm text-subtext",children:["아직 계정이 없으신가요?"," ",s.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>d("/signup"),children:"회원가입"})]})]})]})}function c(){return s.jsx("div",{className:"min-h-screen bg-soft flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx(d,{})})})}export{c as default};
