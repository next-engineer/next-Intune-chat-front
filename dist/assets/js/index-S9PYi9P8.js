import{u as e,j as s,s as a}from"./index-COU3AFMd.js";import{r as t}from"./vendor-BlUkfZh9.js";import{I as r}from"./intune-input-Ds8I-Tn9.js";import{I as i}from"./intune-button-DDBXFbw-.js";import{u as n}from"./router-BuIkA38J.js";import"./index-DoA_IopH.js";import"./index-KkN9daQ0.js";import"./button-2GnTG7u1.js";const l=[{name:"관리자",email:"admin@intune.com",passwordHash:"e10adc3949ba59abbe56e057f20f883e",salt:"admin_salt_123",isAdmin:!0,description:"모든 기능 접근 가능"},{name:"일반 사용자",email:"user@intune.com",passwordHash:"e10adc3949ba59abbe56e057f20f883e",salt:"user_salt_456",isAdmin:!1,description:"기본 기능만 접근"},{name:"테스터1",email:"test1@example.com",passwordHash:"e10adc3949ba59abbe56e057f20f883e",salt:"test1_salt_789",isAdmin:!1,description:"일반 사용자"},{name:"테스터2",email:"test2@example.com",passwordHash:"e10adc3949ba59abbe56e057f20f883e",salt:"test2_salt_012",isAdmin:!1,description:"일반 사용자"}];function o(){const o=n(),m=e(e=>e.setUser),[d,c]=t.useState({email:"",password:""}),[p,u]=t.useState({}),[x,h]=t.useState(!1),[b,f]=t.useState(""),w=(e,s)=>{c(a=>({...a,[e]:s})),p[e]&&u(s=>({...s,[e]:""})),b&&f("")};return s.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),(()=>{const e={};return d.email?/\S+@\S+\.\S+/.test(d.email)||(e.email="올바른 이메일 형식을 입력해주세요"):e.email="이메일을 입력해주세요",d.password?d.password.length<6&&(e.password="비밀번호는 6자 이상이어야 합니다"):e.password="비밀번호를 입력해주세요",u(e),0===Object.keys(e).length})()){h(!0),f("");try{await new Promise(e=>setTimeout(e,1e3));const e=l.find(e=>e.email===d.email);if(!e)throw new Error("계정을 찾을 수 없습니다.");const s=a(d.password);if(!(s===e.passwordHash))throw new Error("비밀번호가 일치하지 않습니다.");const t={id:"user_"+Date.now(),email:d.email,name:e.name,isAdmin:e.isAdmin},r="mock_access_token_"+Date.now(),i="mock_refresh_token_"+Date.now();await m(t,r,i),o("/")}catch(s){f("로그인에 실패했습니다. 이메일과 비밀번호를 확인해주세요.")}finally{h(!1)}}},className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"로그인"}),s.jsx("p",{className:"text-subtext",children:"Intune에 오신 것을 환영합니다"})]}),b&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:s.jsx("p",{className:"text-red-700 text-sm",children:b})}),s.jsx(r,{label:"이메일",type:"email",value:d.email,onChange:e=>w("email",e.target.value),error:p.email,required:!0,placeholder:"example@email.com"}),s.jsx(r,{label:"비밀번호",type:"password",value:d.password,onChange:e=>w("password",e.target.value),error:p.password,required:!0,placeholder:"비밀번호를 입력하세요"}),s.jsx(i,{type:"submit",className:"w-full",size:"lg",disabled:x,children:x?"로그인 중...":"로그인"}),s.jsxs("div",{className:"space-y-4 text-center",children:[s.jsx("button",{type:"button",className:"text-sm text-primary hover:underline",children:"비밀번호 찾기"}),s.jsxs("p",{className:"text-sm text-subtext",children:["아직 계정이 없으신가요?"," ",s.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>o("/signup"),children:"회원가입"})]})]})]})}function m(){return s.jsx("div",{className:"min-h-screen bg-soft flex items-center justify-center p-4",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx(o,{})})})}export{m as default};
