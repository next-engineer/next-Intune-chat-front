import{j as e}from"./index-COU3AFMd.js";import{r}from"./vendor-BlUkfZh9.js";import{P as a}from"./index-KkN9daQ0.js";import{c as t}from"./index-DoA_IopH.js";import{c as o}from"./createLucideIcon-CirrVwor.js";function n(a,t=[]){let o=[];const n=()=>{const e=o.map(e=>r.createContext(e));return function(t){const o=(null==t?void 0:t[a])||e;return r.useMemo(()=>({[`__scope${a}`]:{...t,[a]:o}}),[t,o])}};return n.scopeName=a,[function(t,n){const s=r.createContext(n),c=o.length;o=[...o,n];const u=t=>{var o;const{scope:n,children:u,...i}=t,l=(null==(o=null==n?void 0:n[a])?void 0:o[c])||s,d=r.useMemo(()=>i,Object.values(i));return e.jsx(l.Provider,{value:d,children:u})};return u.displayName=t+"Provider",[u,function(e,o){var u;const i=(null==(u=null==o?void 0:o[a])?void 0:u[c])||s,l=r.useContext(i);if(l)return l;if(void 0!==n)return n;throw new Error(`\`${e}\` must be used within \`${t}\``)}]},s(n,...t)]}function s(...e){const a=e[0];if(1===e.length)return a;const t=()=>{const t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const o=t.reduce((r,{useScope:a,scopeName:t})=>({...r,...a(e)[`__scope${t}`]}),{});return r.useMemo(()=>({[`__scope${a.scopeName}`]:o}),[o])}};return t.scopeName=a.scopeName,t}function c(e){const a=r.useRef(e);return r.useEffect(()=>{a.current=e}),r.useMemo(()=>(...e)=>{var r;return null==(r=a.current)?void 0:r.call(a,...e)},[])}var u=Boolean(null==globalThis?void 0:globalThis.document)?r.useLayoutEffect:()=>{},i="Avatar",[l,d]=n(i),[f,m]=l(i),p=r.forwardRef((t,o)=>{const{__scopeAvatar:n,...s}=t,[c,u]=r.useState("idle");return e.jsx(f,{scope:n,imageLoadingStatus:c,onImageLoadingStatusChange:u,children:e.jsx(a.span,{...s,ref:o})})});p.displayName=i;var v="AvatarImage",g=r.forwardRef((t,o)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...l}=t,d=m(v,n),f=function(e,a){const[t,o]=r.useState("idle");return u(()=>{if(!e)return void o("error");let r=!0;const t=new window.Image,n=e=>()=>{r&&o(e)};return o("loading"),t.onload=n("loaded"),t.onerror=n("error"),t.src=e,a&&(t.referrerPolicy=a),()=>{r=!1}},[e,a]),t}(s,l.referrerPolicy),p=c(e=>{i(e),d.onImageLoadingStatusChange(e)});return u(()=>{"idle"!==f&&p(f)},[f,p]),"loaded"===f?e.jsx(a.img,{...l,ref:o,src:s}):null});g.displayName=v;var x="AvatarFallback",N=r.forwardRef((t,o)=>{const{__scopeAvatar:n,delayMs:s,...c}=t,u=m(x,n),[i,l]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){const e=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(e)}},[s]),i&&"loaded"!==u.imageLoadingStatus?e.jsx(a.span,{...c,ref:o}):null});N.displayName=x;var h=p,j=g,w=N;function y({className:r,...a}){return e.jsx(h,{"data-slot":"avatar",className:t("relative flex size-8 shrink-0 overflow-hidden rounded-full",r),...a})}function _({className:r,...a}){return e.jsx(j,{"data-slot":"avatar-image",className:t("aspect-square size-full",r),...a})}function b({className:r,...a}){return e.jsx(w,{"data-slot":"avatar-fallback",className:t("bg-muted dark:bg-gray-700 flex size-full items-center justify-center rounded-full",r),...a})}
/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=o("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);export{y as A,S as X,_ as a,b,n as c,c as d,u};
