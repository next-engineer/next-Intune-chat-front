import{j as e}from"./index-VwAI4ZKp.js";import{r}from"./vendor-BlUkfZh9.js";import{P as a,c as t}from"./button-00Ju-9bM.js";import{c as o}from"./index-DoA_IopH.js";function n(a,t=[]){let o=[];const n=()=>{const e=o.map(e=>r.createContext(e));return function(t){const o=(null==t?void 0:t[a])||e;return r.useMemo(()=>({[`__scope${a}`]:{...t,[a]:o}}),[t,o])}};return n.scopeName=a,[function(t,n){const s=r.createContext(n),u=o.length;o=[...o,n];const c=t=>{var o;const{scope:n,children:c,...l}=t,i=(null==(o=null==n?void 0:n[a])?void 0:o[u])||s,d=r.useMemo(()=>l,Object.values(l));return e.jsx(i.Provider,{value:d,children:c})};return c.displayName=t+"Provider",[c,function(e,o){var c;const l=(null==(c=null==o?void 0:o[a])?void 0:c[u])||s,i=r.useContext(l);if(i)return i;if(void 0!==n)return n;throw new Error(`\`${e}\` must be used within \`${t}\``)}]},s(n,...t)]}function s(...e){const a=e[0];if(1===e.length)return a;const t=()=>{const t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){const o=t.reduce((r,{useScope:a,scopeName:t})=>({...r,...a(e)[`__scope${t}`]}),{});return r.useMemo(()=>({[`__scope${a.scopeName}`]:o}),[o])}};return t.scopeName=a.scopeName,t}function u(e){const a=r.useRef(e);return r.useEffect(()=>{a.current=e}),r.useMemo(()=>(...e)=>{var r;return null==(r=a.current)?void 0:r.call(a,...e)},[])}var c=Boolean(null==globalThis?void 0:globalThis.document)?r.useLayoutEffect:()=>{},l="Avatar",[i,d]=n(l),[f,m]=i(l),v=r.forwardRef((t,o)=>{const{__scopeAvatar:n,...s}=t,[u,c]=r.useState("idle");return e.jsx(f,{scope:n,imageLoadingStatus:u,onImageLoadingStatusChange:c,children:e.jsx(a.span,{...s,ref:o})})});v.displayName=l;var p="AvatarImage",g=r.forwardRef((t,o)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:l=()=>{},...i}=t,d=m(p,n),f=function(e,a){const[t,o]=r.useState("idle");return c(()=>{if(!e)return void o("error");let r=!0;const t=new window.Image,n=e=>()=>{r&&o(e)};return o("loading"),t.onload=n("loaded"),t.onerror=n("error"),t.src=e,a&&(t.referrerPolicy=a),()=>{r=!1}},[e,a]),t}(s,i.referrerPolicy),v=u(e=>{l(e),d.onImageLoadingStatusChange(e)});return c(()=>{"idle"!==f&&v(f)},[f,v]),"loaded"===f?e.jsx(a.img,{...i,ref:o,src:s}):null});g.displayName=p;var N="AvatarFallback",h=r.forwardRef((t,o)=>{const{__scopeAvatar:n,delayMs:s,...u}=t,c=m(N,n),[l,i]=r.useState(void 0===s);return r.useEffect(()=>{if(void 0!==s){const e=window.setTimeout(()=>i(!0),s);return()=>window.clearTimeout(e)}},[s]),l&&"loaded"!==c.imageLoadingStatus?e.jsx(a.span,{...u,ref:o}):null});h.displayName=N;var j=v,x=g,w=h;function _({className:r,...a}){return e.jsx(j,{"data-slot":"avatar",className:o("relative flex size-8 shrink-0 overflow-hidden rounded-full",r),...a})}function b({className:r,...a}){return e.jsx(x,{"data-slot":"avatar-image",className:o("aspect-square size-full",r),...a})}function y({className:r,...a}){return e.jsx(w,{"data-slot":"avatar-fallback",className:o("bg-muted flex size-full items-center justify-center rounded-full",r),...a})}
/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);export{_ as A,S as X,b as a,y as b,n as c,u as d,c as u};
